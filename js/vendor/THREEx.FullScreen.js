var THREEx=THREEx||{};THREEx.FullScreen=THREEx.FullScreen||{},THREEx.FullScreen.available=function(){return this._hasWebkitFullScreen||this._hasMozFullScreen},THREEx.FullScreen.activated=function(){return this._hasWebkitFullScreen?document.webkitIsFullScreen:this._hasMozFullScreen?document.mozFullScreen:(console.assert(!1),void 0)},THREEx.FullScreen.request=function(a){a=a||document.body,this._hasWebkitFullScreen?a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):this._hasMozFullScreen?a.mozRequestFullScreen():console.assert(!1)},THREEx.FullScreen.cancel=function(){this._hasWebkitFullScreen?document.webkitCancelFullScreen():this._hasMozFullScreen?document.mozCancelFullScreen():console.assert(!1)},THREEx.FullScreen._hasWebkitFullScreen="webkitCancelFullScreen"in document?!0:!1,THREEx.FullScreen._hasMozFullScreen="mozCancelFullScreen"in document?!0:!1,THREEx.FullScreen.bindKey=function(a){a=a||{};var b=a.charCode||"f".charCodeAt(0),c=void 0!==a.dblclick?a.dblclick:!1,d=a.element,e=a.container||document,f=function(){THREEx.FullScreen.activated()?THREEx.FullScreen.cancel():THREEx.FullScreen.request(d)},g=function(a){a.which===b&&f()}.bind(this);return e.addEventListener("keypress",g,!1),c&&e.addEventListener("dblclick",f,!1),{unbind:function(){e.removeEventListener("keypress",g,!1),c&&e.removeEventListener("dblclick",f,!1)}}};